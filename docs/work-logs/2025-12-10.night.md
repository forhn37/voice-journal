# 2025-12-10 Night 작업 로그

## 작업 내용

### 1. 프로젝트 정리 및 코드 리팩토링

- 빈 폴더 삭제 (`src/routes/api/journals/`)
- 공통 타입 파일 생성 (`$lib/types.ts`)
- 공통 상수 파일 생성 (`$lib/constants.ts`)
- BottomNav 컴포넌트 분리
- 각 페이지에서 공통 모듈 사용하도록 수정
- 캘린더 모달에서 일기 상세 페이지 연결 ("자세히 보기" 버튼 추가)

### 2. 워크플로우 설정

- CLAUDE.md 재작성 (워크플로우 중심, ~260줄)
  - 세션 시작 절차
  - 핵심 원칙 (명세 먼저, 깊게 고민, 계획, 승인)
  - TodoWrite/Work Log 규칙
- docs/STATUS.md 생성 - 프로젝트 진행 상황 추적
- docs/work-logs/ 폴더 생성

### 3. 슬래시 명령 설정

- `.claude/commands/start.md` - 세션 시작
- `.claude/commands/spec.md` - 명세 확인
- `.claude/commands/worklog.md` - 작업 로그 작성
- `.claude/commands/todo.md` - 현재 작업 확인

### 4. Git 설정

- master -> main 브랜치 이름 변경
- GitHub remote URL 설정 (forhn37/voice-journal)
- 모든 변경사항 커밋

## 변경된 파일

### 신규 생성
- `src/lib/types.ts`
- `src/lib/constants.ts`
- `src/lib/components/BottomNav.svelte`
- `docs/STATUS.md`
- `docs/work-logs/2025-12-10.night.md`
- `.claude/commands/start.md`
- `.claude/commands/spec.md`
- `.claude/commands/worklog.md`
- `.claude/commands/todo.md`

### 수정
- `src/routes/+page.svelte` - 공통 모듈 사용
- `src/routes/calendar/+page.svelte` - 공통 모듈 사용, 모달 개선
- `src/routes/journal/[id]/+page.svelte` - 공통 모듈 사용, BottomNav 추가
- `src/routes/api/journal/+server.ts` - DAILY_LIMIT import
- `src/routes/api/usage/+server.ts` - DAILY_LIMIT import
- `src/lib/utils/supabase.ts` - 타입 re-export
- `src/lib/stores/user.svelte.ts` - 공통 타입 사용
- `CLAUDE.md` - 워크플로우 중심으로 재작성

### 삭제
- `src/routes/api/journals/` (빈 폴더)

## 현재 상태

MVP 핵심 기능 완료 (Day 7~9 수준)

### 부분 완료 항목
- 에러 처리: 기본 에러 메시지 있음, 재시도 로직 없음
- UI/UX: 기본 완료, 빈 상태 UI/로딩 스켈레톤 없음

## 다음 작업 (우선순위)

1. Supabase Auth 연동 (user_id 문제 해결)
2. 에러 처리 강화 (재시도 버튼)
3. UI/UX 다듬기 (빈 상태 UI, 로딩 스켈레톤)
4. 스트릭 시스템
5. Vercel 배포
